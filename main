import tkinter as tk
import time
from PIL import ImageGrab
import threading

class ScreenshotApp:
    def _init_(self, root):
        self.root = root
        self.root.title("Screenshot Application")

        # Initialize variables
        self.screenshot_count = 0
        self.interval_seconds = 10
        self.running = False
        self.thread = None

        # Create widgets
        self.start_button = tk.Button(root, text="Start Taking Screenshots", command=self.start_capture)
        self.stop_button = tk.Button(root, text="Stop", command=self.stop_capture, state=tk.DISABLED)
        self.interval_label = tk.Label(root, text="Interval (seconds):")
        self.interval_entry = tk.Entry(root)
        self.status_label = tk.Label(root, text="")

        # Layout widgets
        self.start_button.pack(pady=10)
        self.stop_button.pack(pady=10)
        self.interval_label.pack()
        self.interval_entry.pack()
        self.status_label.pack()

    def start_capture(self):
        if not self.running:
            self.interval_seconds = int(self.interval_entry.get()) if self.interval_entry.get() else 10
            self.running = True
            self.start_button.config(state=tk.DISABLED)
            self.stop_button.config(state=tk.NORMAL)
            self.capture_screenshot()

    def stop_capture(self):
        if self.running:
            self.running = False
            self.start_button.config(state=tk.NORMAL)
            self.stop_button.config(state=tk.DISABLED)

    def capture_screenshot(self):
        if self.running:
            timestamp = time.strftime("%Y-%m-%d_%H-%M-%S")
            screenshot = ImageGrab.grab()
            screenshot.save(f"screenshot_{timestamp}.png")
            self.screenshot_count += 1
            self.status_label.config(text=f"Screenshot {self.screenshot_count} saved as screenshot_{timestamp}.png")
            self.root.after(1000 * self.interval_seconds, self.capture_screenshot)

if _name_ == "__main__":
    root = tk.Tk()
    app = ScreenshotApp(root)
    root.mainloop()
